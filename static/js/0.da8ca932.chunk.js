"use strict";(self.webpackChunkrecruit_manage=self.webpackChunkrecruit_manage||[]).push([[0],{8e3:function(e,n,t){t.r(n),t.d(n,{default:function(){return x}});var r,a=t(9439),i=t(2791),u=t(7027),o=t(7309),s=t(8185),c=t(2835),l=t(4802),d=t(7689),f=t(168),m=t(2360).ZP.div(r||(r=(0,f.Z)(["\n  text-align: right;\n  .area {\n    display: flex;\n    justify-content: space-between;\n    height: 30px;\n    margin-bottom: 30px;\n    .search-form {\n      display: flex;\n\n      .submit-btn {\n        margin-left: 15px;\n      }\n    }\n  }\n  .tips {\n    display: inline-block;\n    margin: 20px 0;\n    padding: 10px 10px;\n    text-align: left;\n    border-radius: 10px;\n    color: #fff;\n    background-color: rgba(0, 21, 41, 0.7);\n    cursor: default;\n  }\n"]))),p=t(8618),h=t(184),g=function(){var e=(0,i.useState)([]),n=(0,a.Z)(e,2),t=n[0],r=n[1],f=(0,d.UO)(),g=(0,d.s0)(),x=(0,i.useCallback)((function(e){g("/detail/".concat(e.id))}),[]),k=[{title:"\u540d\u5b57",dataIndex:"username",key:"username",filterMode:"tree"},{title:"\u6027\u522b",key:"sex",dataIndex:"sex"},{title:"\u5b66\u53f7",key:"studentId",dataIndex:"studentId"},{title:"\u624b\u673a\u53f7\u7801",key:"phone",dataIndex:"phone"},{title:"\u5b66\u9662",key:"college",dataIndex:"college"},{title:"\u4e13\u4e1a",key:"major",dataIndex:"major"},{title:"\u72b6\u6001",key:"status",dataIndex:"status"},{title:"\u8fdb\u5165\u8be6\u60c5",key:"index",render:function(e){return(0,h.jsx)(o.ZP,{onClick:function(){return x(e)},type:"primary",children:"\u8fdb\u5165\u8be6\u60c5"})}}];(0,i.useEffect)((function(){y()}),[f]);var y=function(){(0,p.JT)(f.direction).then((function(e){r(e.data)}))};return(0,h.jsxs)(m,{children:[(0,h.jsxs)("div",{className:"area",children:[(0,h.jsx)("div",{className:"search",children:(0,h.jsxs)(s.Z,{className:"search-form",onFinish:function(e){void 0!==e.username&&""!==e.username?(0,p.Im)(e).then((function(e){200===e.code&&null!==e.data?(r([e.data]),u.ZP.success(e.message)):(r([]),u.ZP.error(e.message+",\u8bf7\u8f93\u5165\u5168\u540d"))})):y()},children:[(0,h.jsx)(s.Z.Item,{name:"username",children:(0,h.jsx)(c.Z,{placeholder:"\u8bf7\u8f93\u5165\u5b8c\u6574\u7684\u59d3\u540d"})}),(0,h.jsx)(s.Z.Item,{children:(0,h.jsx)(o.ZP,{type:"primary",htmlType:"submit",className:"submit-btn",children:"\u641c\u7d22"})})]})}),(0,h.jsx)("div",{className:"btn",children:(0,h.jsx)(o.ZP,{onClick:y,children:"\u5237\u65b0\u6570\u636e"})})]}),(0,h.jsx)(l.Z,{columns:k,dataSource:t,rowKey:"id"})]})},x=(0,i.memo)(g)},8618:function(e,n,t){t.d(n,{iX:function(){return h},nF:function(){return g},zN:function(){return y},JT:function(){return d},YG:function(){return m},WU:function(){return Z},Im:function(){return f},sz:function(){return x},x4:function(){return l},EP:function(){return k},lf:function(){return p}});var r=t(1413),a=t(5671),i=t(3144),u=t(1243),o=!1,s=[],c=new(function(){function e(n){var t=this;(0,a.Z)(this,e),this.instance=void 0,this.instance=u.Z.create(n),this.instance.interceptors.request.use((function(e){if(null!==localStorage.getItem("token")){var n=localStorage.getItem("token");e.headers.token="".concat(n)}else console.log("\u5220\u9664 token \u4e86"),delete e.headers.Authorization;return e}),(function(e){return e})),this.instance.interceptors.response.use((function(e){var n=e.data,r=n.code,a=n.message;if(500===r&&"token\u65e0\u6548!\u8bf7\u91cd\u65b0\u767b\u5f55!"===a){var i=e.config;return o?new Promise((function(e){s.push((function(n){i.headers.token=n,e(t.instance.request(i))}))})):(o=!0,k().then((function(e){var n=e.data;return localStorage.setItem("token",n),console.log("token\u8bbe\u7f6e\u5b8c\u6bd5"),i.headers.token=n,s.forEach((function(e){return e(n)})),s=[],t.instance.request(i)})).catch((function(e){console.log("reflashtoken error = >",e),window.location.href="/Login"})).finally((function(){o=!1})))}return e.data}),(function(e){return Promise.reject(e)}))}return(0,i.Z)(e,[{key:"request",value:function(e){return this.instance.request(e)}},{key:"get",value:function(e){return this.request((0,r.Z)((0,r.Z)({},e),{},{method:"GET"}))}},{key:"post",value:function(e){return this.request((0,r.Z)((0,r.Z)({},e),{},{method:"POST"}))}},{key:"delete",value:function(e){return this.request((0,r.Z)((0,r.Z)({},e),{},{method:"DELETE"}))}}]),e}())({baseURL:"https://www.yidongmall.cn",timeout:1e4});function l(e){return c.post({url:"/api/admin/login/pw",params:e})}function d(e){return c.get({url:"/api/admin/orderBy/".concat(e)})}function f(e){return c.get({url:"/api/admin/getUserInfoByName?username=".concat(e.username)})}function m(e){return c.get({url:"/api/admin/getAllTimeByDir/".concat(e)})}function p(e){return c.post({url:"/api/admin/updateTime",data:e})}function h(e){return c.post({url:"/api/admin/addTime",data:e})}function g(e){return c.get({url:"/api/admin/deleteTime/".concat(e)})}function x(e){return c.get({url:"/api/admin/getUserInfoById",params:{id:e}})}function k(){var e=localStorage.getItem("username"),n=localStorage.getItem("password");return c.post({url:"/api/admin/login/pw",params:{username:e,password:n}})}function y(e){return c.get({url:"/api/admin/ifSec/".concat(e)})}function Z(){return c.get({url:"/api/admin/getPreRecruitTime"})}}}]);
//# sourceMappingURL=0.da8ca932.chunk.js.map