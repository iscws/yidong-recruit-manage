"use strict";(self.webpackChunkrecruit_manage=self.webpackChunkrecruit_manage||[]).push([[477],{1687:function(n,e,t){t.d(e,{f:function(){return r}});var i=t(2791);function r(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=(0,i.useRef)({fn:n,timer:null}).current;return(0,i.useEffect)((function(){r.fn=n}),[n]),(0,i.useCallback)((function(){if(!r.timer){var n;r.timer=setTimeout((function(){delete r.timer}),e);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];(n=r.fn).call.apply(n,[this].concat(i))}}),t)}},8618:function(n,e,t){t.d(e,{iX:function(){return h},IH:function(){return C},nF:function(){return g},CI:function(){return j},zN:function(){return Z},nI:function(){return N},JT:function(){return d},YG:function(){return m},$Y:function(){return w},WU:function(){return y},y7:function(){return k},Im:function(){return f},sz:function(){return x},x4:function(){return l},Gm:function(){return P},Jv:function(){return I},EP:function(){return v},Tf:function(){return T},d:function(){return b},lf:function(){return p}});var i=t(1413),r=t(5671),o=t(3144),u=t(1243),a=!1,s=[],c=new(function(){function n(e){var t=this;(0,r.Z)(this,n),this.instance=void 0,this.instance=u.Z.create(e),this.instance.interceptors.request.use((function(n){if(null!==localStorage.getItem("token")){var e=localStorage.getItem("token");n.headers.token="".concat(e)}else console.log("\u5220\u9664 token \u4e86"),delete n.headers.Authorization;return n}),(function(n){return n})),this.instance.interceptors.response.use((function(n){var e=n.data,i=e.code,r=e.message;if(500===i&&"token\u65e0\u6548!\u8bf7\u91cd\u65b0\u767b\u5f55!"===r){var o=n.config;return a?new Promise((function(n){s.push((function(e){o.headers.token=e,n(t.instance.request(o))}))})):(a=!0,v().then((function(n){var e=n.data;return localStorage.setItem("token",e),console.log("token\u8bbe\u7f6e\u5b8c\u6bd5"),o.headers.token=e,s.forEach((function(n){return n(e)})),s=[],t.instance.request(o)})).catch((function(n){console.log("reflashtoken error = >",n),window.location.href="/Login"})).finally((function(){a=!1})))}return n.data}),(function(n){return Promise.reject(n)}))}return(0,o.Z)(n,[{key:"request",value:function(n){return this.instance.request(n)}},{key:"get",value:function(n){return this.request((0,i.Z)((0,i.Z)({},n),{},{method:"GET"}))}},{key:"post",value:function(n){return this.request((0,i.Z)((0,i.Z)({},n),{},{method:"POST"}))}},{key:"delete",value:function(n){return this.request((0,i.Z)((0,i.Z)({},n),{},{method:"DELETE"}))}},{key:"put",value:function(n){return this.request((0,i.Z)((0,i.Z)({},n),{},{method:"PUT"}))}}]),n}())({baseURL:"https://www.yidongmall.cn",timeout:1e4});function l(n){return c.post({url:"/api/admin/login/pw",params:n})}function d(n){return c.get({url:"/api/admin/orderBy/".concat(n)})}function f(n){return c.get({url:"/api/admin/getUserInfoByName?username=".concat(n.username)})}function m(n){return c.get({url:"/api/admin/getAllTimeByDir/".concat(n)})}function p(n){return c.put({url:"/api/admin/interview",data:n})}function h(n){return c.post({url:"/api/admin/interview",data:n})}function g(n){return c.get({url:"/api/admin/deleteTime/".concat(n)})}function x(n){return c.get({url:"/api/admin/getUserInfoById",params:{id:n}})}function v(){var n=localStorage.getItem("username"),e=localStorage.getItem("password");return c.post({url:"/api/admin/login/pw",params:{username:n,password:e}})}function Z(n){return c.get({url:"/api/admin/ifSec/".concat(n)})}function y(){return c.get({url:"/api/admin/getPreRecruitTime"})}function j(n){return c.put({url:"/api/admin/changeRecruitTime/".concat(n)})}function k(n){return c.get({url:"/api/admin/getThisTime/".concat(n)})}function b(n,e){return c.get({url:"/api/admin/setAssess/".concat(n),params:{assess:e}})}function w(n){return c.get({url:"/api/admin/getNow/".concat(n)})}function P(n){return c.get({url:"/api/admin/getNext/".concat(n)})}function I(n){return c.post({url:"/api/admin/push/interview/".concat(n)})}function T(n,e){return c.put({url:"/api/admin/setStatus/".concat(n,"/").concat(e)})}function C(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u6682\u4e0d\u652f\u6301\u62a5\u540d";return c.put({url:"/api/admin/page/display",data:{isDisplay:n,message:e}})}function N(){return c.get({url:"/api/recruit/display"})}},9477:function(n,e,t){t.r(e),t.d(e,{default:function(){return N}});var i,r=t(9439),o=t(2791),u=t(168),a=t(2360).ZP.div(i||(i=(0,u.Z)(["\n  width: 1200px;\n  min-height: 400px;\n  max-height: 1200px;\n  margin: 0 auto;\n  padding: 20px;\n  box-sizing: border-box;\n  /* background-color: #fff; */\n  display: flex;\n  .basic-info {\n    width: 35%;\n    padding: 20px 30px;\n    background-color: #fff;\n    box-shadow: 0 0 8px 1px #eeeeee;\n    border-radius: 10px;\n  }\n  .edit-info {\n    flex: 1;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    /* height: 100vh; */\n    margin-left: 20px;\n    border-radius: 10px;\n    .status {\n      margin-bottom: 15px;\n    }\n    .step-area {\n      /* height: 10vh; */\n      display: flex;\n      align-items: center;\n      margin-bottom: 24px;\n    }\n  }\n"]))),s=t(1659),c=t(3720),l=t(7174),d=t(4422),f=t(1645),m=t(6388),p=t(7309),h=t(8185),g=t(2835),x=t(5076),v=t(8618),Z=t(7689),y=t(187),j=t(9372),k=t(830),b=t(9529),w=t(7286),P=t(1687),I=t(184),T=[{key:2,title:"\u62a5\u540d\u6210\u529f"},{key:3,title:"\u7b49\u5f85\u9762\u8bd5"},{key:4,title:"\u6392\u961f\u4e2d"},{key:5,title:"\u9762\u8bd5\u4e2d"},{key:6,title:"\u9762\u8bd5\u7ed3\u675f"}],C=new Map([["\u62a5\u540d\u6210\u529f",2],["\u7b49\u5f85\u9762\u8bd5\u6392\u961f",3],["\u6392\u961f\u4e2d",4],["\u9762\u8bd5\u4e2d",5],["\u9762\u8bd5\u7ed3\u675f",6]]),N=function(){var n=(0,o.useState)(null),e=(0,r.Z)(n,2),t=e[0],i=e[1],u=(0,Z.UO)(),N=(0,o.useState)(0),q=(0,r.Z)(N,2),S=q[0],E=q[1],A=(0,Z.s0)(),G=s.Z.confirm,U=(0,P.f)((function(){console.log(S),(0,v.Tf)(null===t||void 0===t?void 0:t.id,S+1).then((function(n){console.log(n),200===n.code&&(c.ZP.success(n.message),E(S+1))}))}),3e3);(0,o.useEffect)((function(){(0,v.sz)(Number(u.id)).then((function(n){console.log(C.get(n.data.status)),E(C.get(n.data.status)),i(n.data)}))}),[]);var z=function(n){var e=n.type;A("/home/".concat(e,"/1"))},B=(0,P.f)((function(n){n.assess!==(null===t||void 0===t?void 0:t.assess)?(0,v.d)(Number(u.id),n.assess).then((function(n){200===n.code?c.ZP.success(n.message):c.ZP.error(n.message)})):c.ZP.warning("\u6ca1\u6709\u505a\u4efb\u4f55\u4fee\u6539\uff01")}),1e3);return(0,I.jsxs)(a,{children:[(0,I.jsx)("div",{className:"basic-info",children:(0,I.jsxs)(l.Z,{title:"\u57fa\u672c\u4fe1\u606f",layout:"vertical",bordered:!0,column:2,children:[(0,I.jsx)(l.Z.Item,{label:"\u59d3\u540d",children:null===t||void 0===t?void 0:t.username}),(0,I.jsx)(l.Z.Item,{label:"\u7535\u8bdd",children:null===t||void 0===t?void 0:t.phone}),(0,I.jsx)(l.Z.Item,{label:"\u6027\u522b",children:(0,I.jsxs)(d.ZP.Group,{value:"\u7537"===(null===t||void 0===t?void 0:t.sex)?1:2,children:[(0,I.jsx)(d.ZP,{value:1,children:"\u7537"}),(0,I.jsx)(d.ZP,{value:2,children:"\u5973"})]})}),(0,I.jsx)(l.Z.Item,{label:"\u5b66\u9662",children:null===t||void 0===t?void 0:t.college}),(0,I.jsx)(l.Z.Item,{label:"\u4e13\u4e1a",children:null===t||void 0===t?void 0:t.major}),(0,I.jsx)(l.Z.Item,{label:"\u65b9\u5411",children:(0,I.jsxs)(d.ZP.Group,{value:"\u524d\u7aef"===(null===t||void 0===t?void 0:t.direction)?1:2,children:[(0,I.jsx)(d.ZP,{value:1,children:"\u524d\u7aef"}),(0,I.jsx)(d.ZP,{value:2,children:"\u540e\u7aef"})]})}),(0,I.jsx)(l.Z.Item,{label:"\u81ea\u6211\u4ecb\u7ecd",children:null===t||void 0===t?void 0:t.introduction})]})}),(0,I.jsxs)("div",{className:"edit-info",children:[(0,I.jsx)("div",{className:"card-item status",children:(0,I.jsxs)(f.Z,{title:"\u5f53\u524d\u72b6\u6001",children:[(0,I.jsx)(m.Z,{current:S-2,items:T.map((function(n){return{key:n.title,title:n.title}})),className:"step-area"}),(0,I.jsxs)("div",{style:{marginTop:24},children:[(0,I.jsx)(p.ZP,{type:"primary",onClick:function(){G({title:"\u4f60\u786e\u5b9a\u8981\u5207\u6362\u72b6\u6001\u5417\uff1f",content:"\u8bf7\u786e\u4fdd\u8be5\u72b6\u6001\u5df2\u7ecf\u7ed3\u675f",icon:(0,I.jsx)(y.Z,{}),onOk:function(){U()},onCancel:function(){console.log("Cancel")},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"})},disabled:S<=3,children:"\u4e0b\u4e00\u4e2a\u72b6\u6001"}),8===S&&(0,I.jsx)(p.ZP,{type:"primary",onClick:function(){return c.ZP.success("Processing complete!")},children:"\u7ed3\u675f"})]})]})}),(0,I.jsx)("div",{className:"card-item assess",children:(0,I.jsx)(f.Z,{title:"\u9762\u8bc4",children:null!==t&&(0,I.jsxs)(h.Z,{name:"assess",className:"assess-area",onFinish:B,children:[(0,I.jsx)(h.Z.Item,{name:"assess",initialValue:null===t||void 0===t?void 0:t.assess,rules:[{required:!0,message:"\u8bf7\u81f3\u5c11\u5199\u4e00\u4e2a\u5b57"}],children:(0,I.jsx)(g.Z.TextArea,{showCount:!0,maxLength:400,style:{height:"40vh"},placeholder:"\u8fd9\u4f4d\u540c\u5b66\u57fa\u7840\u600e\u4e48\u8bf4"})}),(0,I.jsx)(h.Z.Item,{style:{textAlign:"right"},children:(0,I.jsx)(p.ZP,{htmlType:"submit",disabled:S<3,children:"\u63d0\u4ea4"})})]})})}),(0,I.jsxs)(x.Z.Group,{trigger:"click",type:"primary",style:{right:24},icon:(0,I.jsx)(j.Z,{}),children:[(0,I.jsx)(x.Z,{icon:(0,I.jsx)(k.Z,{}),tooltip:"\u56de\u5230\u9762\u8bd5\u60c5\u51b5",onClick:function(){z({type:"interview"})}}),(0,I.jsx)(x.Z,{icon:(0,I.jsx)(b.Z,{}),tooltip:"\u56de\u5230\u62a5\u540d\u60c5\u51b5",onClick:function(){z({type:"enroll"})}}),(0,I.jsx)(x.Z,{icon:(0,I.jsx)(w.Z,{}),tooltip:"\u56de\u5230\u4fee\u6539\u9762\u8bd5",onClick:function(){z({type:"edit"})}})]})]})]})}}}]);
//# sourceMappingURL=477.7a67dbb5.chunk.js.map